<%- include('layouts/header') %>
    <%- include('layouts/nav') %>
        <div class="container mt-4">
            <div class="row">
                <div class="col-md-8">
                    <h1>
                        <%= title %>
                    </h1>

                    <a href="/contact/create" class="btn btn-primary px-4 my-3">Create a contact</a>

                    <% if (msg.length !==0) { %>
                        <div class="alert alert-success" role="alert">
                            <%= msg %>
                        </div>
                        <% } %>

                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Name</th>
                                        <th scope="col">Phone</th>
                                        <th scope="col">Handles</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% if (contacts.length <=0) { %>
                                        <tr>
                                            <td colspan="4">
                                                <div class="alert alert-danger fw-bold" role="alert">
                                                    Not contact yet. <a href="/contact/create"
                                                        class="alert-link fw-normal">Create a contact</a>
                                                </div>
                                            </td>
                                        </tr>
                                        <% } else { %>
                                            <% contacts.forEach((contact, i)=> { %>

                                                <tr>
                                                    <th scope="row">
                                                        <%= ++i %>
                                                    </th>
                                                    <td>
                                                        <%= contact.data.name %>
                                                    </td>
                                                    <td>
                                                        <%= contact.data.phone %>
                                                    </td>
                                                    <td>
                                                        <a href="/contact/<%= contact.data.name.toLowerCase() %> "
                                                            class="btn btn-success btn-sm px-3">detail</a>
                                                    </td>
                                                </tr>
                                                <% }) %>
                                                    <% } %>
                                </tbody>
                            </table>
                </div>
            </div>
        </div>
        <%- include('layouts/footer') %>